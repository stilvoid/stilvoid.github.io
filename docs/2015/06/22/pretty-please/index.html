<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Steve Engledow - Pretty please</title>
        <meta name="author" content="Steve Engledow" />
        <meta name="description" content="All content © 2011-2022 Steve Engledow. All views expressed here are mine and don’t reflect those of Amazon. The contents of this web site are available under the terms of the MIT licence." />
        <link rel="canonical" href="https://engledow.me/2015/06/22/pretty-please/" />
        <link rel="stylesheet" href="/assets/main.css">
        <link rel="stylesheet" href="/assets/code.css">
    </head>

    <body>
        <header>
            <h1>Pretty please</h1>
        </header>

        <main>
            <article><p>I've been making <a href="https://github.com/stilvoid/please/">a thing</a> to solve some problems I always face while building web APIs. <a href="http://curl.haxx.se/">Curl</a> is lovely but it's a bit <em>too</em> flexible.</p>
<p>Also, web services generally spit out one of a fairly common set of formats: (json, xml, html) and I often just want to grab a value from the response and use it in a script - maybe to make the next call in a workflow.</p>
<p>So I made <a href="https://github.com/stilvoid/please/">please</a> which makes it super simple to do things like making a web request and grabbing a particular value from the response.</p>
<p>For example, here's how you'd get the page title from this site:</p>
<div class="codehilite"><pre><span></span><code>please get https://engledow.me/ <span class="p">|</span> please parse html.head.title.#text
</code></pre></div>

<p>Or getting a value out of the json returned by <a href="http://jsontest.com/">jsontest.com</a>'s IP address API:</p>
<div class="codehilite"><pre><span></span><code>please get http://ip.jsontest.com/ <span class="p">|</span> please parse ip
</code></pre></div>

<p>The <code>parse</code> part of <code>please</code> is the most fun; it can convert between a few different formats. Something I do quite often is grabbing a json response from an API and spitting it out as yaml so I can read it easily. For example:</p>
<div class="codehilite"><pre><span></span><code>please get http://date.jsontest.com/ <span class="p">|</span> please parse -o yaml
</code></pre></div>

<p>(alright so that's a poor example but the difference is huge when it's a complicated bit of json)</p>
<p>Also handy for turning an unreadable mess of xml into yaml (I love yaml for its readability):</p>
<div class="codehilite"><pre><span></span><code><span class="nb">echo</span> <span class="s1">&#39;&lt;docroot type=&quot;messydoc&quot;&gt;&lt;a&gt;&lt;b dir=&quot;up&quot;&gt;A tree&lt;/b&gt;&lt;b dir=&quot;down&quot;&gt;The ground&lt;/b&gt;&lt;/a&gt;&lt;/docroot&gt;&#39;</span> <span class="p">|</span> please parse -o yaml
</code></pre></div>

<p>As an example, of the kinds of things you can play with, I made <a href="http://json-graph.offend.me.uk/">this tool for generating graphs from json</a>.</p>
<p>I'm still working on <code>please</code>; there will be bugs; <a href="https://github.com/stilvoid/please/issues">let me know about them</a>.</p></article>
        </main>

        <footer>
            <p>
                All content © 2011-2022 Steve Engledow.
                All views expressed here are mine and don't reflect those of Amazon.
                The contents of this web site are available under the terms of the MIT licence.
            </p>
        </footer>
    </body>
</html>
