<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="Stylesheet" type="text/css" href="../../style.css" />
        <title>2015-06-22</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </head>
    <body>
        <header>
            <nav>
                <p>
                    <a href="../../index.html">Home</a>
                    <a href="../../projects.html">Projects</a>
                    <a href="../../diary/index.html">Blog</a>
                </p>
            </nav>
        </header>

        <main>
            
<p>
---
title: Pretty please
tags: code
---
</p>

<p>
I've been making [a thing](<a href="https://github.com/stilvoid/please/)">https://github.com/stilvoid/please/)</a> to solve some problems I always face while building web APIs. [Curl](<a href="http://curl.haxx.se/)">http://curl.haxx.se/)</a> is lovely but it's a bit <span id="-too"></span><strong id="too">too</strong> flexible.
</p>

<p>
Also, web services generally spit out one of a fairly common set of formats: (json, xml, html) and I often just want to grab a value from the response and use it in a script - maybe to make the next call in a workflow.
</p>

<p>
So I made [please](<a href="https://github.com/stilvoid/please/)">https://github.com/stilvoid/please/)</a> which makes it super simple to do things like making a web request and grabbing a particular value from the response.
</p>

<p>
For example, here's how you'd get the page title from this site:
</p>

<p>
```shell 
please get <a href="https://engledow.me/">https://engledow.me/</a> | please parse html.head.title.#text
```
</p>

<p>
Or getting a value out of the json returned by [jsontest.com](<a href="http://jsontest.com/)'s">http://jsontest.com/)'s</a> IP address API:
</p>

<p>
```shell 
please get <a href="http://ip.jsontest.com/">http://ip.jsontest.com/</a> | please parse ip
```
</p>

<p>
The <code>parse</code> part of <code>please</code> is the most fun; it can convert between a few different formats. Something I do quite often is grabbing a json response from an API and spitting it out as yaml so I can read it easily. For example:
</p>

<p>
```shell 
please get <a href="http://date.jsontest.com/">http://date.jsontest.com/</a> | please parse -o yaml
```
</p>

<p>
(alright so that's a poor example but the difference is huge when it's a complicated bit of json)
</p>

<p>
Also handy for turning an unreadable mess of xml into yaml (I love yaml for its readability):
</p>

<p>
```shell 
echo '&lt;docroot type="messydoc"&gt;&lt;a&gt;<b dir="up">A tree</b><b dir="down">The ground</b>&lt;/a>&lt;/docroot>' | please parse -o yaml
```
</p>

<p>
As an example, of the kinds of things you can play with, I made [this tool for generating graphs from json](<a href="http://json-graph.offend.me.uk/).">http://json-graph.offend.me.uk/).</a>
</p>

<p>
I'm still working on <code>please</code>; there will be bugs; [let me know about them](<a href="https://github.com/stilvoid/please/issues).">https://github.com/stilvoid/please/issues).</a>
</p>

        </main>

        <footer>
            <p>
            All content Â© 2011-2024 Steve Engledow.
            <br />
            All views expressed here are mine and don't reflect those of Amazon.
            <br />
            The <a href="https://github.com/stilvoid/stilvoid.github.io">contents of this web site</a> are available under the terms of the <a href="https://github.com/stilvoid/stilvoid.github.io/blob/master/LICENSE">MIT licence</a>.
            </p>
        </footer>
    </body>
</html>
