<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="Stylesheet" type="text/css" href="../../style.css" />
        <title>2015-04-29</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </head>
    <body>
        <header>
            <nav>
                <p>
                    <a href="../../index.html">Home</a>
                    <a href="../../projects.html">Projects</a>
                    <a href="../../diary/index.html">Blog</a>
                </p>
            </nav>
        </header>

        <main>
            
<p>
---
title: Why-fi?
tags: linux
---
</p>

<p>
I'm an [arch linux](<a href="http://archlinux.org)">http://archlinux.org)</a> user and I love it; there's no other distro for me. The things that arch gets criticism for are the exact same reasons I love it and they all more or less boil down to one thing: arch does not hold your hand.
</p>

<p>
It's been a while since an update in arch caused me any problems but it did today.
</p>

<p>
[It seems there's an issue](<a href="https://bbs.archlinux.org/viewtopic.php?id=196584)">https://bbs.archlinux.org/viewtopic.php?id=196584)</a> with the latest version of <code>wpa_supplicant</code> which renders it incompatible with the way wifi is setup at boot time. The problem was caught and resolved very quickly by package maintainers who simply rolled the <code>wpa_supplicant</code> package back. However, I was unlucky enough to have caught the intervening upgrade shortly before turning my laptop off. I came home this evening to find I had no wifi!
</p>

<p>
This wasn't a huge challenge but I haven't written a blog post for a while and someone might find this useful:
</p>

<p>
---
</p>

<p>
If your wifi doesn't start at boot...
</p>

<p>
And you're using [a laptop with no ethernet port](<a href="https://www.dell.com/en-us/shop/cty/xps-13-9333/spd/xps-13-9333)...">https://www.dell.com/en-us/shop/cty/xps-13-9333/spd/xps-13-9333)...</a>
</p>

<p>
And you know an upgrade will solve your problem...
</p>

<p>
How do you get internet so you can upgrade?
</p>

<p>
Simples :)
</p>

<p>
## The steps
</p>

<p>
First, find the name of your wireless interface:
</p>

<p>
```shell 
iw dev
```
</p>

<p>
Which will output something like:
</p>

<p>
```console 
phy#0
</p>
<pre><code>Interface wlp2s0
ifindex 2
wdev 0x1
addr e8:b1:fc:6c:bf:b5
type managed
channel 11 (2462 MHz), width: 20 MHz, center1: 2462 MHz
</code></pre>
<p>
```
</p>

<p>
Where <code>wlp2s0</code> is the bit we're interested in.
</p>

<p>
Now bring the interface up:
</p>

<p>
```shell 
ip link set wlp2s0 up
```
</p>

<p>
Connect to the access point:
</p>

<p>
```shell 
iw dev wlp2s0 connect "AP name"
```
</p>

<p>
Create a temporary configuration file for <code>wpa_supplicant</code>:
</p>

<p>
```shell 
wpa_passphrase "AP name" "password" &gt; /tmp/wpa.config
```
</p>

<p>
Run <code>wpa_supplicant</code> to authenticate with the access point:
</p>

<p>
```shell 
wpa_supplication -iwlp2s0 -c/tmp/wpa.config
```
</p>

<p>
In another terminal (or you could have backgrounded the above), run <code>dhcpcd</code> to get an IP address from your router:
</p>

<p>
```shell 
dhcpcd wlp2s0
```
</p>

<p>
Update and reboot or whatever :)
</p>

        </main>

        <footer>
            <p>
            All content Â© 2011-2024 Steve Engledow.
            <br />
            All views expressed here are mine and don't reflect those of Amazon.
            <br />
            The <a href="https://github.com/stilvoid/stilvoid.github.io">contents of this web site</a> are available under the terms of the <a href="https://github.com/stilvoid/stilvoid.github.io/blob/master/LICENSE">MIT licence</a>.
            </p>
        </footer>
    </body>
</html>
