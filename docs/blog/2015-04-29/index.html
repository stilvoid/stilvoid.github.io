<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>engledow.me: Why-fi?</title>
        <link rel="stylesheet" href="/style.css">
        <link rel="me" href="https://retro.pizza/@stilvoid">
        <meta name="fediverse:creator" content="@stilvoid@retro.pizza">
    </head>

    <body>
        <nav>
            <ul>
                <li><a href="/">About</a></li>
                <li><a href="/blog/" class="selected">Blog</a></li>
                <li><a href="/bookmarks/">Bookmarks</a></li>
                <li><a href="/projects/">Projects</a></li>
            </ul>
            <ul>
                <li><a href="/blog/2024-08-28/">TBC</a><br><span class="date">(2024-08-28)</span></li>
                <li><a href="/blog/2024-07-23/">Back to the Primitive</a><br><span class="date">(2024-07-23)</span></li>
                <li><a href="/blog/2019-11-13/">Maur - A minimal AUR helper</a><br><span class="date">(2019-11-13)</span></li>
                <li><a href="/blog/2019-02-12/">Using Git with AWS CodeCommit Across Multiple AWS Accounts</a><br><span class="date">(2019-02-12)</span></li>
                <li><a href="/blog/2018-11-08/">git-get</a><br><span class="date">(2018-11-08)</span></li>
                <li><a href="/blog/2018-08-14/">Heroes: Building some old code</a><br><span class="date">(2018-08-14)</span></li>
                <li><a href="/blog/2018-06-03/">Shue</a><br><span class="date">(2018-06-03)</span></li>
                <li><a href="/blog/2017-07-10/">An evening of linux on the desktop</a><br><span class="date">(2017-07-10)</span></li>
                <li><a href="/blog/2017-06-15/">The day of linux on the desktop</a><br><span class="date">(2017-06-15)</span></li>
                <li><a href="/blog/2016-02-25/">Digital Subscriber</a><br><span class="date">(2016-02-25)</span></li>
                <li><a href="/blog/2015-12-14/">Ford</a><br><span class="date">(2015-12-14)</span></li>
                <li><a href="/blog/2015-11-30/">Sorted</a><br><span class="date">(2015-11-30)</span></li>
                <li><a href="/blog/2015-09-17/">Twofer</a><br><span class="date">(2015-09-17)</span></li>
                <li><a href="/blog/2015-06-22/">Pretty please</a><br><span class="date">(2015-06-22)</span></li>
                <li><a href="/blog/2015-05-15/">Andy and Teddy are waving goodbye</a><br><span class="date">(2015-05-15)</span></li>
                <li><a href="/blog/2015-05-14/">Building a componentised application</a><br><span class="date">(2015-05-14)</span></li>
                <li><a href="/blog/2015-04-29/" class="selected">Why-fi?</a><br><span class="date">(2015-04-29)</span></li>
                <li><a href="/blog/2015-03-12/">Cleaning out my closet</a><br><span class="date">(2015-03-12)</span></li>
                <li><a href="/blog/2015-01-02/">Keychain and GnuPG >= 2.1</a><br><span class="date">(2015-01-02)</span></li>
                <li><a href="/blog/2014-12-09/">Testing a Django app with Docker</a><br><span class="date">(2014-12-09)</span></li>
                <li><a href="/blog/2014-12-01/">Just call me Anneka</a><br><span class="date">(2014-12-01)</span></li>
                <li><a href="/blog/2014-06-17/">tmux</a><br><span class="date">(2014-06-17)</span></li>
                <li><a href="/blog/2014-04-15/">Netcat</a><br><span class="date">(2014-04-15)</span></li>
                <li><a href="/blog/2014-01-31/">btw</a><br><span class="date">(2014-01-31)</span></li>
                <li><a href="/blog/2013-05-10/">Things we learned at the LUG meet</a><br><span class="date">(2013-05-10)</span></li>
                <li><a href="/blog/2013-02-11/">Git aux</a><br><span class="date">(2013-02-11)</span></li>
                <li><a href="/blog/2012-08-30/">Lost at C</a><br><span class="date">(2012-08-30)</span></li>
                <li><a href="/blog/2012-07-07/">Ire</a><br><span class="date">(2012-07-07)</span></li>
                <li><a href="/blog/2011-10-27/">Break In!</a><br><span class="date">(2011-10-27)</span></li>
                <li><a href="/blog/2011-10-22/">xmodmap Hints and Tips</a><br><span class="date">(2011-10-22)</span></li>
            </ul>
        </nav>

        <main>
            <h1 id="why-fi">Why-fi?</h1>

<p>I’m an <a href="http://archlinux.org">arch linux</a> user and I love it; there’s no
other distro for me. The things that arch gets criticism for are the
exact same reasons I love it and they all more or less boil down to one
thing: arch does not hold your hand.</p>

<p>It’s been a while since an update in arch caused me any problems but it
did today.</p>

<p><a href="https://bbs.archlinux.org/viewtopic.php?id=196584">It seems there’s an
issue</a> with the
latest version of <code>wpa_supplicant</code> which renders it incompatible with
the way wifi is setup at boot time. The problem was caught and resolved
very quickly by package maintainers who simply rolled the
<code>wpa_supplicant</code> package back. However, I was unlucky enough to have
caught the intervening upgrade shortly before turning my laptop off. I
came home this evening to find I had no wifi!</p>

<p>This wasn&#39;t a huge challenge but I haven’t written a blog post for a
while and someone might find this useful:</p>

<hr/>

<p>If your wifi doesn&#39;t start at boot…</p>

<p>And you’re using <a href="https://www.dell.com/en-us/shop/cty/xps-13-9333/spd/xps-13-9333">a laptop with no ethernet
port</a>…</p>

<p>And you know an upgrade will solve your problem…</p>

<p>How do you get internet so you can upgrade?</p>

<p>Simples :)</p>

<h2 id="the-steps">The steps</h2>

<p>First, find the name of your wireless interface:</p>

<pre><code>iw dev
</code></pre>

<p>Which will output something like:</p>

<pre><code>phy#0
    Interface wlp2s0
        ifindex 2
        wdev 0x1
        addr e8:b1:fc:6c:bf:b5
        type managed
        channel 11 (2462 MHz), width: 20 MHz, center1: 2462 MHz
</code></pre>

<p>Where <code>wlp2s0</code> is the bit we’re interested in.</p>

<p>Now bring the interface up:</p>

<pre><code>ip link set wlp2s0 up
</code></pre>

<p>Connect to the access point:</p>

<pre><code>iw dev wlp2s0 connect &#34;AP name&#34;
</code></pre>

<p>Create a temporary configuration file for <code>wpa_supplicant</code>:</p>

<pre><code>wpa_passphrase &#34;AP name&#34; &#34;password&#34; &gt; /tmp/wpa.config
</code></pre>

<p>Run <code>wpa_supplicant</code> to authenticate with the access point:</p>

<pre><code>wpa_supplication -iwlp2s0 -c/tmp/wpa.config
</code></pre>

<p>In another terminal (or you could have backgrounded the above), run
<code>dhcpcd</code> to get an IP address from your router:</p>

<pre><code>dhcpcd wlp2s0
</code></pre>

<p>Update and reboot or whatever :)</p>


            <footer>&copy; 2024, Steve Engledow</footer>
        </main>
    </body>
</html>
